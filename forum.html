<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/ALL.css">
    <link rel="stylesheet" href="css/forum.css">
    <script src="js/forum.js"></script>
    <title>Document</title>
</head>
<body onload="loadFunctions()">
    <script>console.log(localStorage.getItem("current_user"))</script>
    <div class="container">
        <!-- Side Navbar -->
        <nav class="side-navbar" id="side-buttons">
            <img src="https://cdn.glitch.global/b2b6a711-beed-4ef5-97c5-c23044caac21/makeItAllLogo.png?v=1729946371230" alt="Make It All Logo" class="navbar-logo">

            <div class="side-button" id="calendar">
                <div class="left-content">
                    <div class="icon">üìÖ</div>
                    <div class="side-button-text">Calendar</div>
                </div>
                <div class="shortcut">‚áßC</div>
            </div>
            <div class="side-button" id="training">
                <div class="left-content">
                    <div class="icon">üìñ</div>
                    <div class="side-button-text">Training</div>
                </div>
                <div class="shortcut">‚áßS</div>
            </div>
            <div class="side-button" id="team">
                <div class="left-content">
                    <div class="icon">üë•</div>
                    <div class="side-button-text">Team Members</div>
                </div>
                <div class="shortcut">‚áßM</div>
            </div>
            <div class="side-button" id="employee-form" onclick="openForum()">
                <div class="left-content">
                    <div class="icon">üìù</div>
                    <div class="side-button-text">Employee Forum</div>
                </div>
                <div class="shortcut">‚áßF</div>
            </div>
            <div class="side-button" id="project-history">
                <div class="left-content">
                    <div class="icon">üìÇ</div>
                    <div class="side-button-text">Project History</div>
                </div>
                <div class="shortcut">‚áßH</div>
            </div>
        </nav>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <div class="header-container">
                <div class="welcome">
                    <h1>Welcome <span id="welcome-name"></span></h1>
                    <h2 id="date"></h2>
                </div>
                <div class="account" id="account">
                    <img src="https://cdn.glitch.global/b2b6a711-beed-4ef5-97c5-c23044caac21/makeItAllProfilePicture.png?v=1729954806402" alt="P.P" id="profilePicture" onclick="openProfile()">
                </div>
            </div>
            
            <div class="halves" id="forum">
                <div class="forum-section" id="forum-section">
                    <div id="forum-header">
                        <h1>Forum</h1>
                        <div class="search-bar">
                            <select id="searchFilter">
                                <option value="topics">Topics</option>
                                <option value="posts">Posts</option>
                                <option value="replies">Replies</option>
                            </select>
                            <input type="text" id="searchInput" placeholder="Search...">
                            <button onclick="searchForum()">Search</button>
                        </div>
                    </div>
                    
                    <!-- Create Topic Section -->
                    <div id="create-topic">
                        <input type="text" id="topicTitle" placeholder="Enter topic title">
                        <button onclick="createTopic()">Create Topic</button>
                    </div>
                    <!-- Topics List -->
                    <div id="topics-section">
                        <h2>All Topics</h2>
                        <ul id="topicList"></ul>
                        <script>
                            displayTopics();
                        </script>
                    </div>
            
                    <!-- Posts Section (hidden by default) -->
                    <div id="posts-section" style="display: none;">
                        <button onclick="backToTopics()">Back to Topics</button>
                        <h2 id="currentTopicTitle"></h2>
                        <input type="text" id="postTitle" placeholder="Enter post title" oninput="toggleDescription()">
                        <textarea id="postDescription" placeholder="Enter post description" style="display: none;"></textarea>
                        <input type="file" id="postFile">
                        <button onclick="createPost()">Create Post</button>
                        <ul id="postList"></ul>
                    </div>
            
                    <!-- Replies Section (hidden by default) -->
                    <div id="replies-section" style="display: none;">
                        <button onclick="backToPosts()">Back to Posts</button>
                        <h2 id="currentPostTitle"></h2>
                        <textarea id="replyContent" placeholder="Write your reply here"></textarea>
                        <input type="file" id="replyFile">
                        <button onclick="createReply()">Add Reply</button>
                        <ul id="replyList"></ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
